[package]
name = "regex-automata"
version = "0.1.10"  #:version
authors = ["Andrew Gallant <jamslam@gmail.com>"]
description = "Automata construction and matching using regular expressions."
documentation = "https://docs.rs/regex-automata"
homepage = "https://github.com/BurntSushi/regex-automata"
repository = "https://github.com/BurntSushi/regex-automata"
readme = "README.md"
keywords = ["regex", "dfa", "automata", "automaton", "nfa"]
license = "Unlicense/MIT"
categories = ["text-processing"]
exclude = [
  "/.github", "/scripts/*", "/regex-cli", "/regex-test",
]
autotests = false
autoexamples = false
edition = "2018"

[workspace]
members = ["bench", "examples", "regex-cli", "regex-test"]

[lib]
bench = false

[features]
default = ["std"]
std = ["alloc", "memchr/std", "regex-syntax"]
alloc = ["regex-syntax"]
logging = ["log"]
transducer = ["fst"]

[dependencies]
fst = { version = "0.4.5", optional = true }
log = { version = "0.4.14", optional = true }
memchr = { version = "2.4.0", default-features = false }
regex-syntax = { version = "0.6.24", optional = true }

[dev-dependencies]
bstr = "0.2.16"
regex-syntax = "0.6.16"
regex-test = { version = "*", path = "regex-test" }

[[test]]
path = "tests/tests.rs"
name = "integration"

[profile.dev]
# Running tests takes too long in debug mode, so we forcefully always build
# with optimizations. Unfortunate, but, ¯\_(ツ)_/¯.
#
# It's counter-intuitive that this needs to be set on dev *and* test, but
# it's because the tests that take a long time to run are run as integration
# tests in a separate crate. The test.opt-level setting won't apply there, so
# we need to set the opt-level across the entire build.
opt-level = 3
debug = true

[profile.test]
opt-level = 3
debug = true

[profile.release]
debug = true

[profile.bench]
debug = true
